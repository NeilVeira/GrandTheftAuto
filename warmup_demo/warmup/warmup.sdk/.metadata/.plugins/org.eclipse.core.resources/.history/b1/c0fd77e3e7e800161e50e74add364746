#include "xparameters.h"
#include "xil_io.h"
#include "Fib_LFSR.h"

#define XPAR_Fib_LFSR_0_S00_AXI_BASEADDR 0x44A00000

//volatile unsigned int *myip_ptr = (unsigned int*) XPAR_Fib_LFSR_0_S00_AXI_BASEADDR;

int main()
{
	FIB_LFSR_mWriteReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0, 0x4);
	FIB_LFSR_mWriteReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0x10, 0xFFFF);
	FIB_LFSR_mWriteReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0, 0x7);

	xil_printf("Hello World\n");

	xil_printf("%x\n",FIB_LFSR_mReadReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0x10));

	while (1){
		for (int j=0; j<10000; j++) ;
		xil_printf("%x\n",FIB_LFSR_mReadReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0x08));
	}

	// Low Level Driver
	/*for (int i =0; i<=10; i++){
		for (int j=0; j<=10000;j++){
			j++;
		}
		xil_printf("%x\n",FIB_LFSR_mReadReg(XPAR_Fib_LFSR_0_S00_AXI_BASEADDR, 0xC));
	}*/
	return 0;
}

